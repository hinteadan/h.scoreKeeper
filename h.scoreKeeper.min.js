(function(){"use strict";function a(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function b(b,c){for(var d=a(b),e=[];d.length;)e.push(d.splice(0,c));return e}function c(b){for(var c=a(b),d=[];c.length;){var e=Math.round(Math.random()*(c.length-1));d.push(c.splice(e,1)[0])}return d}this.cloneArray=a,this.splitArray=b,this.randomizeArray=c}).call(this),function(a){"use strict";function b(a,b){function c(){return a&&b?a+" "+b:a&&!b?a:!a&&b?b:"<Unknown Individual>"}function d(){return a&&b?a+" "+b.substr(0,1)+".":a&&!b?a:!a&&b?b:"<Unknown>"}this.firstName=a,this.lastName=b,this.fullName=c,this.shortName=d}function c(a,b){function c(a){e.push(a)}function d(a){var b=e.indexOf(a);0>b||e.splice(b,1)}var e=[];this.name=a,this.individuals=function(){return e||[]},this.addMember=function(a){return c(a),this},this.addMembers=function(a){for(var b in a)c(a[b]);return this},this.zapMember=function(a){return d(a),this},this.zapMembers=function(a){for(var b in a)d(a[b]);return this},this.details=b||{}}function d(a,b){this.party=a,this.timestamp=new Date,this.details=b||{}}function e(b){function c(a){if(a)for(var c in b)if(b[c]===a)return;throw new Error("The given party, named <<"+a.name+">>, is not part of this clash.")}function e(a,b){c(a),j.push(new d(a,b))}function f(){j.pop()}function g(a,b){c(a),k=a,i=b}function h(){return null!==k}var i,j=[],k=null;this.parties=function(){return b||[]},this.points=function(){return j},this.pointFor=function(b){e(b,a)},this.pointWith=function(a){return{"for":function(b){e(b,a)}}},this.undoPoint=f,this.close=function(a,b){if(h())throw new Error("This clash ended already in favor of "+k.name);return g(a,b),this},this.hasEnded=h,this.winner=function(){return k}}function f(a){function b(b){for(var c=0,d=0;d<a.points().length;d++)a.points()[d].party===b&&c++;return c}function c(a,b){this.party=a,this.score=b}function d(){for(var d=[],e=0;e<a.parties().length;e++)d.push(new c(a.parties()[e],b(a.parties()[e])));return d}this.score=d}c.empty=new c("Bye Bye"),this.H=this.H||{},this.H.ScoreKeeper=this.H.ScoreKeeper||{},this.H.ScoreKeeper.Individual=b,this.H.ScoreKeeper.Party=c,this.H.ScoreKeeper.Point=d,this.H.ScoreKeeper.Clash=e,this.H.ScoreKeeper.Projector=f}.call(this),function(a,b,c){"use strict";function d(d){function e(){return b(d)}function f(a){for(var c in a)a[c]=b(a[c]);return a}function g(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].shortName());return b.join("/")}function h(b){for(var c=Number(b)||2,d=e(),f=[];d.length;){var h=d.splice(0,c);f.push(new a.Party(g(h)).addMembers(h))}return f}function i(b){var c=[];f(b);for(var d=0;d<b[0].length;d++){for(var e=[],h=0;h<b.length;h++)b[h][d]&&e.push(b[h][d]);c.push(new a.Party(g(e)).addMembers(e))}return c}this.parties=h,this.partiesOf=function(a){return h(a)},this.cutAndPairParties=function(a){return i(c(d,Math.ceil(d.length/a)))}}a.Sattelites=a.Sattelites||{},a.Sattelites.RandomPartiesGenerator=d}.call(this,this.H.ScoreKeeper,this.randomizeArray,this.splitArray),function(a,b){"use strict";function c(c){function d(){var d=b(c),e=[];for(d.length%2!==0&&d.push(a.Party.empty);d.length;)e.push(new a.Clash(d.splice(0,2))),e[e.length-1].parties()[1]===a.Party.empty&&e[e.length-1].close(e[e.length-1].parties()[0],"No opponent, direct advance");return e}return d()}function d(b,d){function e(){k&&k.length||(k=d(b))}function f(b){for(var c=[],d=0;d<b.parties().length;d++)c.push(b.parties()[d].name);return new a.Party("<<Winner of: "+c.join(" vs ")+">> ",{isVirtual:!0})}function g(a){return a.parties()[0].details.isVirtual===!0}function h(b,c){if(1===b.length)throw new Error("This is the final round, there is no next round.");for(var d=[],e=0;e<b.length;e+=2){var h=c&&!g(c[e/2])?c[e/2]:new a.Clash([b[e].winner()||f(b[e]),b[e+1]?b[e+1].winner()||f(b[e+1]):a.Party.empty]);d.push(h),d[d.length-1].parties()[1]===a.Party.empty&&d[d.length-1].close(d[d.length-1].parties()[0],"No opponent, direct advance")}return d}function i(){if(e(),k.length<=1)return[k];var a=[k],b=[];do b=h(a[a.length-1],l?l[a.length]:null),a.push(b);while(b.length>1);return l=a,a}function j(){var a=i(),b=a[a.length-1][0];return b.winner()||f(b)}"function"!=typeof d&&(d=c);var k=null,l=null;this.rounds=i,this.winner=j}a.Logistics=a.Logistics||{},a.Logistics.SingleEliminationSystem=d}.call(this,this.H.ScoreKeeper,this.randomizeArray),function(a){"use strict";function b(b,c,d){function e(a){return g.indexOf(a)>=0}function f(a){e(a)||g.push(a)}var g=[];c||(c=new a.Logistics.SingleEliminationSystem(g)),this.name=b,this.details=d||{},this.timestamp=new Date,this.addParty=function(a){return f(a),this},this.addParties=function(a){for(var b in a)f(a[b]);return this},this.parties=function(){return g||[]},this.rounds=c.rounds,this.winner=c.winner,this.hasEnded=function(){var a=this.rounds();return a[a.length-1][0].hasEnded()}}a.Championship=b}.call(this,this.H.ScoreKeeper);