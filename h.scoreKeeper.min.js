(function(){"use strict";function a(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function b(b,c){for(var d=a(b),e=[];d.length;)e.push(d.splice(0,c));return e}function c(b){for(var c=a(b),d=[];c.length;){var e=Math.round(Math.random()*(c.length-1));d.push(c.splice(e,1)[0])}return d}function d(a,b){for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}function e(a,b){for(var c=0;c<a.length;c++)if(b(a[c],c)===!0)return a[c];return null}this.H=this.H||{},this.H.JsUtils=this.H.JsUtils||{},this.H.JsUtils.cloneArray=a,this.H.JsUtils.splitArray=b,this.H.JsUtils.randomizeArray=c,this.H.JsUtils.map=d,this.H.JsUtils.find=e}).call(this),function(a,b){"use strict";function c(b,c){function d(){return b&&c?b+" "+c:b&&!c?b:!b&&c?c:"<Unknown Individual>"}function e(){return b&&c?b+" "+c.substr(0,1)+".":b&&!c?b:!b&&c?c:"<Unknown>"}function f(){return a(d().toLowerCase().replace(/ /g,""))}this.id=f,this.firstName=b,this.lastName=c,this.fullName=d,this.shortName=e,this.isMatching=function(a){return"function"==typeof a.id?this.id()===a.id():this.firstName===a.firstName&&this.lastName===a.lastName}}function d(a,b){function c(a){e.push(a)}function d(a){var b=e.indexOf(a);0>b||e.splice(b,1)}var e=[];this.name=a,this.individuals=e,this.addMember=function(a){return c(a),this},this.addMembers=function(a){for(var b in a)c(a[b]);return this},this.zapMember=function(a){return d(a),this},this.zapMembers=function(a){for(var b in a)d(a[b]);return this},this.details=b||{}}function e(a,b){this.party=a,this.timestamp=new Date,this.details=b||{},this.setTimestamp=function(a){return a instanceof Date?(this.timestamp=a,this):void 0}}function f(a,c){function d(b){if(b)for(var c in a)if(a[c]===b)return;throw new Error("The given party, named <<"+b.name+">>, is not part of this clash.")}function f(a){d(a.party),m.push(a),n[a.party.name]||(n[a.party.name]=[]),n[a.party.name].push(a)}function g(a,b){f(new e(a,b))}function h(a){return n[a.name]||[]}function i(){m.length&&n[m.pop().party.name].pop()}function j(a,b){d(a),l.winner=a,l.winnerNotes=b}function k(){return null!==l.winner}var l=this,m=[],n={};this.details=c||{},this.parties=a,this.points=m,this.pointsFor=h,this.pointFor=function(a){return g(a,b),this},this.pointWith=function(a){return{"for":function(b){return g(b,a),this}}},this.addPoint=function(a){return f(a),this},this.addPoints=function(a){for(var b=0;b<a.length;b++)f(a[b]);return this},this.undoPoint=function(){return i(),this},this.close=function(a,b){if(k())throw new Error("This clash ended already in favor of "+l.winner.name);return j(a,b),this},this.hasEnded=k,this.winner=null,this.winnerNotes=null}function g(a){function b(b){for(var c=0,d=0;d<a.points().length;d++)a.points()[d].party===b&&c++;return c}function c(a,b){this.party=a,this.score=b}function d(){for(var d=[],e=0;e<a.parties().length;e++)d.push(new c(a.parties()[e],b(a.parties()[e])));return d}this.score=d}d.empty=new d("Bye Bye"),this.H=this.H||{},this.H.ScoreKeeper=this.H.ScoreKeeper||{},this.H.ScoreKeeper.Individual=c,this.H.ScoreKeeper.Party=d,this.H.ScoreKeeper.Point=e,this.H.ScoreKeeper.Clash=f,this.H.ScoreKeeper.Projector=g}.call(this,this.escape),function(a,b,c){"use strict";a.Individual.revive=function(b){return new a.Individual(b.firstName,b.lastName)},a.Party.revive=function(d,e,f){return new a.Party(d.name,f?f(d.details):d.details).addMembers(b(d.individuals,function(b){return e?c(e,function(a){return a.isMatching(b)})||a.Individual.revive(b):a.Individual.revive(b)}))},a.Point.revive=function(b,d,e){return new a.Point(d?c(d,function(a){return a.name===b.party.name}):a.Party.revive(b),e?e(b.details):b.details).setTimestamp(b.timestamp)},a.Clash.revive=function(d,e,f){var g=b(d.parties,function(b){return e?c(e,function(a){return a.name===b.name}):a.Party.revive(b)});return a.Clash(g,f?f(d.details):d.details).addPoints(b(d.points,function(b){return a.Point.revive(b,g)}))}}.call(this,this.H.ScoreKeeper,this.H.JsUtils.map,this.H.JsUtils.find),function(a,b,c){"use strict";function d(d){function e(){return b(d)}function f(a){for(var c in a)a[c]=b(a[c]);return a}function g(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c].shortName());return b.join("/")}function h(b){for(var c=Number(b)||2,d=e(),f=[];d.length;){var h=d.splice(0,c);f.push(new a.Party(g(h)).addMembers(h))}return f}function i(b){var c=[];f(b);for(var d=0;d<b[0].length;d++){for(var e=[],h=0;h<b.length;h++)b[h][d]&&e.push(b[h][d]);c.push(new a.Party(g(e)).addMembers(e))}return c}this.parties=h,this.partiesOf=function(a){return h(a)},this.cutAndPairParties=function(a){return i(c(d,Math.ceil(d.length/a)))}}a.Sattelites=a.Sattelites||{},a.Sattelites.RandomPartiesGenerator=d}.call(this,this.H.ScoreKeeper,this.H.JsUtils.randomizeArray,this.H.JsUtils.splitArray),function(a,b){"use strict";function c(c){function d(){var d=b(c),e=[];for(d.length%2!==0&&d.push(a.Party.empty);d.length;)e.push(new a.Clash(d.splice(0,2))),e[e.length-1].parties()[1]===a.Party.empty&&e[e.length-1].close(e[e.length-1].parties()[0],"No opponent, direct advance");return e}return d()}function d(b,d){function e(){k&&k.length||(k=d(b))}function f(b){for(var c=[],d=0;d<b.parties().length;d++)c.push(b.parties()[d].name);return new a.Party("<<Winner of: "+c.join(" vs ")+">> ",{isVirtual:!0})}function g(a){return a.parties()[0].details.isVirtual===!0}function h(b,c){if(1===b.length)throw new Error("This is the final round, there is no next round.");for(var d=[],e=0;e<b.length;e+=2){var h=c&&!g(c[e/2])?c[e/2]:new a.Clash([b[e].winner()||f(b[e]),b[e+1]?b[e+1].winner()||f(b[e+1]):a.Party.empty]);d.push(h),d[d.length-1].parties()[1]===a.Party.empty&&d[d.length-1].close(d[d.length-1].parties()[0],"No opponent, direct advance")}return d}function i(){if(e(),k.length<=1)return[k];var a=[k],b=[];do b=h(a[a.length-1],l?l[a.length]:null),a.push(b);while(b.length>1);return l=a,a}function j(){var a=i(),b=a[a.length-1][0];return b.winner()||f(b)}"function"!=typeof d&&(d=c);var k=null,l=null;this.rounds=i,this.winner=j}a.Logistics=a.Logistics||{},a.Logistics.SingleEliminationSystem=d}.call(this,this.H.ScoreKeeper,this.H.JsUtils.randomizeArray),function(a){"use strict";function b(b,c,d){function e(a){return g.indexOf(a)>=0}function f(a){e(a)||g.push(a)}var g=[];c||(c=new a.Logistics.SingleEliminationSystem(g)),this.name=b,this.details=d||{},this.timestamp=new Date,this.addParty=function(a){return f(a),this},this.addParties=function(a){for(var b in a)f(a[b]);return this},this.parties=function(){return g||[]},this.rounds=c.rounds,this.winner=c.winner,this.hasEnded=function(){var a=this.rounds();return a[a.length-1][0].hasEnded()}}a.Championship=b}.call(this,this.H.ScoreKeeper);